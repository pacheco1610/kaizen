{"ast":null,"code":"var _jsxFileName = \"/Users/chavarias/Desktop/informatica/kaizen/src/components/layout/secciones/colaboradores/nuevocolaborador.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport firebase from 'firebase';\nimport 'firebase/database';\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass nuevocolaborador extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeSelect = () => {\n      let select = document.getElementById('selectmenu');\n\n      if (select.value != 0) {\n        let puesto = this.props.puestos.filter(item => item.key == select.value);\n        this.setState({\n          puesto: puesto[0]\n        });\n      } else {\n        this.setState({\n          selectedOption: null\n        });\n      }\n    };\n\n    this.notifyTopCenter = () => toast.success(\"Puesto Agregado\", {\n      position: toast.POSITION.TOP_CENTER\n    });\n\n    this.state = {\n      perProps: this.props.permisos,\n      permisos: [{\n        icono: \"fas fa-calendar-check\",\n        key: 1,\n        titulo: 'Tareas'\n      }],\n      puesto: '',\n      referencia: '',\n      nombre: ''\n    };\n  }\n\n  handlePermiso(permiso) {\n    const {\n      permisos\n    } = this.state;\n    permisos.push({\n      titulo: permiso.titulo,\n      icono: permiso.icono,\n      key: permiso.key\n    });\n    this.setState({\n      perProps: this.state.perProps.filter(item => item.key != permiso.key)\n    });\n    this.setState({\n      permisos: permisos\n    });\n  }\n\n  removePermiso(permiso) {\n    const {\n      perProps\n    } = this.state;\n    perProps.push({\n      titulo: permiso.titulo,\n      icono: permiso.icono,\n      key: permiso.key\n    });\n    this.setState({\n      permisos: this.state.permisos.filter(item => item.key != permiso.key)\n    });\n  }\n\n  HanldeColaborador() {\n    const {\n      permisos\n    } = this.state;\n    const params = {\n      displayname: this.state.nombre,\n      puesto: this.state.puesto,\n      permisos: permisos,\n      referencia: this.props.usuario.empresa + Math.floor(Math.random() * 99 + 1),\n      empresa: this.props.usuario.empresa,\n      estatus: 'false',\n      photoURL: 'https://firebasestorage.googleapis.com/v0/b/kaizen-6d3d0.appspot.com/o/img%2Fdescarga.png?alt=media&token=109a3f25-aa79-4ab1-b4ac-5adf12f5875b'\n    };\n\n    if (firebase.database().ref('usuarios').push(params)) {\n      this.setState({\n        selectedOption: '',\n        nombre: '',\n        perProps: this.state.perProps.concat(this.state.permisos.filter(item => item.key != 1)),\n        permisos: []\n      });\n      this.notifyTopCenter();\n    }\n\n    this.setState({\n      referencia: params.referencia\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      title: \"Tooltip on top\",\n      value: this.state.nombre,\n      onChange: e => {\n        this.setState({\n          nombre: e.target.value\n        });\n      },\n      type: \"text\",\n      name: \"nombre\",\n      className: \"form-control rounded-1 col-12 mb-2\",\n      placeholder: \"Nombre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select col-12 mb-2\",\n      id: \"selectmenu\",\n      onChange: this.handleChangeSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, \"Selecciona el puesto\"), this.props.puestos.map(puesto => /*#__PURE__*/React.createElement(\"option\", {\n      key: puesto.key,\n      value: puesto.key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, puesto.Puesto))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title-dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }, \"Permisos\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-xl-6 mb-xl-0 mb-md-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }, this.state.perProps.map(permiso => /*#__PURE__*/React.createElement(\"span\", {\n      key: permiso.key,\n      className: \"badge badge-pill badge-secondary mr-2 perm-badge\",\n      onClick: () => this.handlePermiso(permiso),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 41\n      }\n    }, permiso.titulo))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-xl-6 border rounded-sm perm-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 33\n      }\n    }, this.state.permisos.map(permiso => /*#__PURE__*/React.createElement(\"span\", {\n      key: permiso.key,\n      className: \"badge badge-pill badge-primary mr-2 perm-badge\",\n      onClick: () => this.removePermiso(permiso),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 41\n      }\n    }, permiso.titulo, \" x\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title-dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 37\n      }\n    }, \"Referencia\"))), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.referencia,\n      type: \"text\",\n      name: \"nombre\",\n      className: \"form-control rounded-1 col-12 mb-2\",\n      placeholder: \"Referencia\",\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-general btn-block\",\n      onClick: () => this.HanldeColaborador(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 33\n      }\n    }, \"Agregar Colaborador\"))));\n  }\n\n}\n\nconst mapStateProps = state => ({\n  permisos: state.permisos,\n  puestos: state.puestos,\n  usuario: state.info\n});\n\nexport default connect(mapStateProps, null)(nuevocolaborador);","map":{"version":3,"sources":["/Users/chavarias/Desktop/informatica/kaizen/src/components/layout/secciones/colaboradores/nuevocolaborador.jsx"],"names":["React","Component","connect","firebase","ToastContainer","toast","nuevocolaborador","constructor","props","handleChangeSelect","select","document","getElementById","value","puesto","puestos","filter","item","key","setState","selectedOption","notifyTopCenter","success","position","POSITION","TOP_CENTER","state","perProps","permisos","icono","titulo","referencia","nombre","handlePermiso","permiso","push","removePermiso","HanldeColaborador","params","displayname","usuario","empresa","Math","floor","random","estatus","photoURL","database","ref","concat","render","e","target","map","Puesto","mapStateProps","info"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux'\nimport firebase from 'firebase';\nimport 'firebase/database';\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass nuevocolaborador extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            perProps:this.props.permisos,\n            permisos:[\n                {\n                icono:\"fas fa-calendar-check\",\n                key:1,\n                titulo:'Tareas'}\n            ],\n            puesto:'',\n            referencia:'',\n            nombre:''\n        }\n    }\n    handlePermiso(permiso){\n        const {permisos}=this.state\n        permisos.push({\n            titulo:permiso.titulo,\n            icono:permiso.icono,\n            key:permiso.key\n        })\n        this.setState({perProps:this.state.perProps.filter(item=> item.key != permiso.key)})\n        this.setState({permisos:permisos})\n    }\n    removePermiso(permiso){\n        const {perProps}=this.state\n        perProps.push({\n            titulo:permiso.titulo,\n            icono:permiso.icono,\n            key:permiso.key,\n        })\n        this.setState({permisos:this.state.permisos.filter(item => item.key != permiso.key)})\n    }\n\n    handleChangeSelect = ()  => {\n        let select = document.getElementById('selectmenu');\n        if (select.value!=0) {\n            let puesto = this.props.puestos.filter(item=>item.key==select.value)\n            this.setState({puesto:puesto[0]})\n        }\n        else{\n            this.setState({selectedOption:null})\n        }\n    };\n    HanldeColaborador(){\n        const {permisos} = this.state\n        const params={\n            displayname:this.state.nombre,\n            puesto:this.state.puesto,\n            permisos:permisos,\n            referencia:this.props.usuario.empresa+(Math.floor((Math.random() * 99) + 1)),\n            empresa:this.props.usuario.empresa,\n            estatus:'false',\n            photoURL:'https://firebasestorage.googleapis.com/v0/b/kaizen-6d3d0.appspot.com/o/img%2Fdescarga.png?alt=media&token=109a3f25-aa79-4ab1-b4ac-5adf12f5875b'\n        }\n        \n        if(firebase.database().ref('usuarios').push(params)){\n            this.setState({selectedOption:'',nombre:'',perProps:this.state.perProps.concat(this.state.permisos.filter(item=>item.key!=1)),permisos:[]})\n            this.notifyTopCenter()\n        }\n        this.setState({referencia:params.referencia})\n        \n\n    }\n    notifyTopCenter = () =>\n    toast.success(\"Puesto Agregado\", {\n        position: toast.POSITION.TOP_CENTER\n    })\n    render() {\n        return (\n            <div className=\"container\">\n                <ToastContainer />\n                    <div className=\"row pt-3\">\n                        <input title=\"Tooltip on top\" value={this.state.nombre} onChange={(e)=>{this.setState({nombre: e.target.value})}} type=\"text\" name=\"nombre\" className=\"form-control rounded-1 col-12 mb-2\" placeholder=\"Nombre\"/>\n                        <select className=\"custom-select col-12 mb-2\" id=\"selectmenu\" onChange={this.handleChangeSelect}>\n                            <option value='0'>Selecciona el puesto</option>\n                            {this.props.puestos.map(puesto=>\n                                <option key={puesto.key} value={puesto.key}>{puesto.Puesto}</option>\n                            )}\n                        </select>\n                        <div className=\"col-12 text-center\">\n                            <div className=\"subtitle\">\n                                <hr/>\n                                <div className=\"subtitle-text\">\n                                    <h3 className=\"title-dashboard\">Permisos</h3>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-12 col-xl-6 mb-xl-0 mb-md-2 mb-2\">\n                                    {this.state.perProps.map(permiso=>\n                                        <span key={permiso.key} className=\"badge badge-pill badge-secondary mr-2 perm-badge\" onClick={()=>this.handlePermiso(permiso)}>{permiso.titulo}</span>\n                                    )}\n                                </div>\n                                <div className=\"col-12 col-xl-6 border rounded-sm perm-box\">\n                                    {this.state.permisos.map(permiso=>\n                                        <span key={permiso.key} className=\"badge badge-pill badge-primary mr-2 perm-badge\" onClick={()=>this.removePermiso(permiso)}>{permiso.titulo} x</span>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-12\">\n                            <div className=\"subtitle\">\n                                <hr/>\n                                <div className=\"subtitle-text\">\n                                    <h3 className=\"title-dashboard\">Referencia</h3>\n                                </div>\n                            </div>\n                            <input value={this.state.referencia} type=\"text\" name=\"nombre\" className=\"form-control rounded-1 col-12 mb-2\" placeholder=\"Referencia\" readOnly/>\n                        </div>\n                    </div>\n                    <div className=\"row pt-2\">\n                            <div className=\"col-12\">\n                                <button className=\"btn btn-general btn-block\" onClick={()=>this.HanldeColaborador()}>Agregar Colaborador</button>\n                            </div>\n                        </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateProps = state =>({\n    permisos:state.permisos,\n    puestos:state.puestos,\n    usuario:state.info\n})\n\nexport default connect(mapStateProps,null)(nuevocolaborador)"]},"metadata":{},"sourceType":"module"}