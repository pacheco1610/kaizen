{"ast":null,"code":"var _jsxFileName = \"/Users/chavarias/Desktop/informatica/kaizen/src/components/layout/secciones/tareas/evidencia.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport firebase from 'firebase';\nimport moment from \"moment\";\n\nclass evidencia extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nArray: ''\n    };\n  }\n\n  finaliarTarea() {\n    firebase.database().ref('tareas/' + this.props.tarea.key + '/responsables').once(\"value\").then(snapshot => {\n      firebase.database().ref('tareas/' + this.props.tarea.key + '/responsables/' + snapshot.val().findIndex(responsable => responsable.referencia === this.props.usuario.referencia)).update({\n        estatustarea: 'realizada'\n      });\n      firebase.database().ref('tareas/' + this.props.tarea.key + '/historial/').push({\n        photoURL: this.props.usuario.photoURL,\n        usuario: this.props.usuario.displayname,\n        texto: 'termino la tarea',\n        fecha: moment().format('YYYY-MM-DD')\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, \"Finalizaste tu tarea, \\xBFdeseas agregar una evidencia?\", /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.evidenciar(),\n      className: \"btn text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"u\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 84\n      }\n    }, \"Si\")), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.finaliarTarea(),\n      className: \"btn text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 102\n      }\n    }, /*#__PURE__*/React.createElement(\"u\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 172\n      }\n    }, \"No\")));\n  }\n\n}\n\nconst mapStateProps = state => ({\n  usuario: state.info\n});\n\nconst mapDispatchToprops = dispatch => ({\n  UpdateShow(show) {\n    dispatch({\n      type: 'Show',\n      show\n    });\n  },\n\n  tareadetalles(tareadetalles) {\n    dispatch({\n      type: 'Tarea',\n      tareadetalles\n    });\n  }\n\n});\n\nexport default connect(mapStateProps, mapDispatchToprops)(evidencia);","map":{"version":3,"sources":["/Users/chavarias/Desktop/informatica/kaizen/src/components/layout/secciones/tareas/evidencia.jsx"],"names":["React","Component","connect","firebase","moment","evidencia","constructor","props","state","nArray","finaliarTarea","database","ref","tarea","key","once","then","snapshot","val","findIndex","responsable","referencia","usuario","update","estatustarea","push","photoURL","displayname","texto","fecha","format","render","evidenciar","mapStateProps","info","mapDispatchToprops","dispatch","UpdateShow","show","type","tareadetalles"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAC9BK,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,MAAM,EAAC;AADA,KAAX;AAGH;;AACDC,EAAAA,aAAa,GAAE;AACPP,IAAAA,QAAQ,CAACQ,QAAT,GAAoBC,GAApB,CAAwB,YAAU,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,GAA3B,GAA+B,eAAvD,EAAwEC,IAAxE,CAA6E,OAA7E,EAAsFC,IAAtF,CAA4FC,QAAD,IAAY;AACnGd,MAAAA,QAAQ,CAACQ,QAAT,GAAoBC,GAApB,CAAwB,YAAU,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,GAA3B,GAA+B,gBAA/B,GAAgDG,QAAQ,CAACC,GAAT,GAAeC,SAAf,CAAyBC,WAAW,IAAIA,WAAW,CAACC,UAAZ,KAA2B,KAAKd,KAAL,CAAWe,OAAX,CAAmBD,UAAtF,CAAxE,EAA2KE,MAA3K,CAAkL;AAACC,QAAAA,YAAY,EAAC;AAAd,OAAlL;AAEArB,MAAAA,QAAQ,CAACQ,QAAT,GAAoBC,GAApB,CAAwB,YAAU,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,GAA3B,GAA+B,aAAvD,EAAsEW,IAAtE,CAA2E;AACvEC,QAAAA,QAAQ,EAAC,KAAKnB,KAAL,CAAWe,OAAX,CAAmBI,QAD2C;AAEvEJ,QAAAA,OAAO,EAAC,KAAKf,KAAL,CAAWe,OAAX,CAAmBK,WAF4C;AAGvEC,QAAAA,KAAK,EAAC,kBAHiE;AAIvEC,QAAAA,KAAK,EAACzB,MAAM,GAAG0B,MAAT,CAAgB,YAAhB;AAJiE,OAA3E;AAMH,KATD;AAaP;;AACDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+EAEI;AAAQ,MAAA,OAAO,EAAE,MAAI,KAAKC,UAAL,EAArB;AAAwC,MAAA,SAAS,EAAC,gBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAnE,CAFJ,eAEyF;AAAQ,MAAA,OAAO,EAAE,MAAI,KAAKtB,aAAL,EAArB;AAA2C,MAAA,SAAS,EAAC,gBAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAsE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAtE,CAFzF,CADJ;AAMH;;AA7B6B;;AA+BlC,MAAMuB,aAAa,GAAGzB,KAAK,KAAI;AAC3Bc,EAAAA,OAAO,EAACd,KAAK,CAAC0B;AADa,CAAJ,CAA3B;;AAGA,MAAMC,kBAAkB,GAAGC,QAAQ,KAAI;AACnCC,EAAAA,UAAU,CAACC,IAAD,EAAM;AACZF,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAC,MADE;AAEPD,MAAAA;AAFO,KAAD,CAAR;AAID,GANgC;;AAOjCE,EAAAA,aAAa,CAACA,aAAD,EAAe;AAC1BJ,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAC,OADE;AAEPC,MAAAA;AAFO,KAAD,CAAR;AAID;;AAZgC,CAAJ,CAAnC;;AAcA,eAAetC,OAAO,CAAC+B,aAAD,EAAeE,kBAAf,CAAP,CAA0C9B,SAA1C,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux'\nimport firebase from 'firebase'\nimport moment from \"moment\";\n\nclass evidencia extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            nArray:''\n        }\n    }\n    finaliarTarea(){\n            firebase.database().ref('tareas/'+this.props.tarea.key+'/responsables').once(\"value\").then((snapshot)=>{\n                firebase.database().ref('tareas/'+this.props.tarea.key+'/responsables/'+snapshot.val().findIndex(responsable => responsable.referencia === this.props.usuario.referencia)).update({estatustarea:'realizada'})\n                \n                firebase.database().ref('tareas/'+this.props.tarea.key+'/historial/').push({\n                    photoURL:this.props.usuario.photoURL,\n                    usuario:this.props.usuario.displayname,\n                    texto:'termino la tarea',\n                    fecha:moment().format('YYYY-MM-DD')\n                })\n            }\n        )\n            \n            \n    }\n    render() {\n        return (\n            <div>\n                Finalizaste tu tarea, Â¿deseas agregar una evidencia?\n                <button onClick={()=>this.evidenciar()} className=\"btn text-white\"><u>Si</u></button><button onClick={()=>this.finaliarTarea()} className=\"btn text-white\"><u>No</u></button>\n            </div>\n        )\n    }\n}\nconst mapStateProps = state =>({\n    usuario:state.info,\n})\nconst mapDispatchToprops = dispatch =>({\n    UpdateShow(show){\n        dispatch({\n          type:'Show',\n          show\n        })\n      },\n      tareadetalles(tareadetalles){\n        dispatch({\n          type:'Tarea',\n          tareadetalles\n        })\n      },\n})\nexport default connect(mapStateProps,mapDispatchToprops)(evidencia)\n"]},"metadata":{},"sourceType":"module"}