{"ast":null,"code":"var _jsxFileName = \"/Users/chavarias/Desktop/informatica/kaizen/src/components/layout/secciones/colaboradores/infocolaborador.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport firebase from 'firebase';\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass infocolaborador extends Component {\n  constructor(props) {\n    super(props);\n\n    this.notifyTopCenter = (type, text) => toast[type](text, {\n      position: toast.POSITION.TOP_CENTER\n    });\n\n    this.state = {\n      nombre: this.props.colaborador.displayname,\n      puesto: this.props.colaborador.puesto.titulo,\n      permisos: this.props.colaborador.permisos,\n      referencia: this.props.colaborador.referencia,\n      perProps: this.props.permisos\n    };\n  }\n\n  componentDidMount() {\n    document.getElementById('guardar').setAttribute('disabled', 'disabled');\n  }\n\n  componentDidUpdate(prevProps) {\n    // Uso tipico (no olvides de comparar los props):\n    if (this.props.colaborador !== prevProps.colaborador) {\n      this.setState({\n        nombre: this.props.colaborador.displayname,\n        puesto: this.props.colaborador.puesto.titulo,\n        permisos: this.props.colaborador.permisos,\n        referencia: this.props.colaborador.referencia,\n        perProps: this.props.permisos\n      });\n      document.getElementById('guardar').setAttribute('disabled', 'disabled');\n    }\n  }\n\n  handleChange(event, nombre) {\n    this.setState({\n      [nombre]: event.target.value\n    });\n    document.getElementById('guardar').removeAttribute('disabled');\n  }\n\n  removePermiso(permiso) {\n    let verificar = 0;\n\n    for (let index = 0; index < this.state.perProps.length; index++) {\n      if (this.state.perProps[index].key != permiso.key) {\n        verificar = verificar + 0;\n      } else {\n        verificar = verificar + 1;\n      }\n    }\n\n    if (verificar == 0) {\n      const {\n        perProps\n      } = this.state;\n      perProps.push({\n        titulo: permiso.titulo,\n        icono: permiso.icono,\n        key: permiso.key\n      });\n    }\n\n    this.setState({\n      permisos: this.state.permisos.filter(item => item.key != permiso.key)\n    });\n    document.getElementById('guardar').removeAttribute('disabled');\n  }\n\n  handlePermiso(permiso) {\n    let verificar = 0;\n\n    for (let index = 0; index < this.state.permisos.length; index++) {\n      if (this.state.permisos[index].key != permiso.key) {\n        verificar = verificar + 0;\n      } else {\n        verificar = verificar + 1;\n      }\n    }\n\n    if (verificar == 0) {\n      const {\n        permisos\n      } = this.state;\n      permisos.push({\n        titulo: permiso.titulo,\n        icono: permiso.icono,\n        key: permiso.key\n      });\n      this.setState({\n        perProps: this.state.perProps.filter(item => item.key != permiso.key)\n      });\n      this.setState({\n        permisos: permisos\n      });\n      document.getElementById('guardar').removeAttribute('disabled');\n    } else {\n      this.notifyTopCenter('warning', 'Permiso ya agregado');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row infocliente\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"snap\", {\n      className: \"title-dashboard mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, \"Nombre:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"nombre\",\n      className: \"input-edit\",\n      value: this.state.nombre,\n      onChange: e => this.handleChange(e, 'nombre'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"snap\", {\n      className: \"title-dashboard mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, \"Puesto:\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"input-edit\",\n      onChange: this.handleChangeSelect,\n      id: \"selectmenu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, this.state.puesto), this.props.puestos.map(puesto => /*#__PURE__*/React.createElement(\"option\", {\n      key: puesto.key,\n      value: puesto.key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }\n    }, puesto.Puesto)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 text-center mt-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title-dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }, \"Permisos\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-xl-6 mb-xl-0 mb-md-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, this.state.perProps.map(permiso => /*#__PURE__*/React.createElement(\"span\", {\n      key: permiso.key,\n      className: \"badge badge-pill badge-secondary mr-2 perm-badge\",\n      onClick: () => this.handlePermiso(permiso),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, permiso.titulo))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-xl-6 border rounded-sm perm-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, this.state.permisos.filter(permiso => permiso.key != 1).map(permiso => /*#__PURE__*/React.createElement(\"span\", {\n      key: permiso.key,\n      className: \"badge badge-pill badge-primary mr-2 perm-badge\",\n      onClick: () => this.removePermiso(permiso),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 33\n      }\n    }, permiso.titulo, \" x\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"title-dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 37\n      }\n    }, \"Referencia\"))), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.referencia,\n      type: \"text\",\n      name: \"nombre\",\n      className: \"form-control rounded-1 col-12 mb-2\",\n      placeholder: \"Referencia\",\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ml-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-general\",\n      id: \"guardar\",\n      onClick: () => this.handleUpdate(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, \"Guardar\"))));\n  }\n\n}\n\nconst mapStateProps = state => ({\n  permisos: state.permisos,\n  colaborador: state.infoColaborador,\n  puestos: state.puestos\n});\n\nexport default connect(mapStateProps, null)(infocolaborador);","map":{"version":3,"sources":["/Users/chavarias/Desktop/informatica/kaizen/src/components/layout/secciones/colaboradores/infocolaborador.jsx"],"names":["React","Component","connect","firebase","ToastContainer","toast","infocolaborador","constructor","props","notifyTopCenter","type","text","position","POSITION","TOP_CENTER","state","nombre","colaborador","displayname","puesto","titulo","permisos","referencia","perProps","componentDidMount","document","getElementById","setAttribute","componentDidUpdate","prevProps","setState","handleChange","event","target","value","removeAttribute","removePermiso","permiso","verificar","index","length","key","push","icono","filter","item","handlePermiso","render","e","handleChangeSelect","puestos","map","Puesto","handleUpdate","mapStateProps","infoColaborador"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux'\nimport firebase from 'firebase'\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass infocolaborador extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            nombre:this.props.colaborador.displayname,\n            puesto:this.props.colaborador.puesto.titulo,\n            permisos:this.props.colaborador.permisos,\n            referencia:this.props.colaborador.referencia,\n            perProps:this.props.permisos\n        }\n        \n    }\n    componentDidMount(){\n        document.getElementById('guardar').setAttribute('disabled','disabled')\n    }\n    componentDidUpdate(prevProps) {\n        // Uso tipico (no olvides de comparar los props):\n        if (this.props.colaborador !== prevProps.colaborador) {\n          this.setState({\n            nombre:this.props.colaborador.displayname,\n            puesto:this.props.colaborador.puesto.titulo,\n            permisos:this.props.colaborador.permisos,\n            referencia:this.props.colaborador.referencia,\n            perProps:this.props.permisos \n          })\n          document.getElementById('guardar').setAttribute('disabled','disabled')\n        }\n      }\n    handleChange(event,nombre){\n        this.setState({[nombre]: event.target.value})\n        document.getElementById('guardar').removeAttribute('disabled')\n    }\n    removePermiso(permiso){\n        let verificar=0\n        for (let index = 0; index < this.state.perProps.length; index++) {\n            if (this.state.perProps[index].key != permiso.key) {\n                verificar=verificar+0\n            }\n            else{\n                verificar=verificar+1\n            }\n        }\n        if (verificar==0) {\n            const {perProps}=this.state\n            perProps.push({\n                titulo:permiso.titulo,\n                icono:permiso.icono,\n                key:permiso.key,\n            })\n        }\n        \n        this.setState({permisos:this.state.permisos.filter(item => item.key != permiso.key)})\n        document.getElementById('guardar').removeAttribute('disabled')\n    }\n    handlePermiso(permiso){\n        let verificar=0\n        for (let index = 0; index < this.state.permisos.length; index++) {\n            if (this.state.permisos[index].key != permiso.key) {\n                verificar=verificar+0\n            }\n            else{\n                verificar=verificar+1\n            }\n        }\n        if (verificar==0) {\n        const {permisos}=this.state\n        permisos.push({\n            titulo:permiso.titulo,\n            icono:permiso.icono,\n            key:permiso.key\n        })\n        this.setState({perProps:this.state.perProps.filter(item=> item.key != permiso.key)})\n        this.setState({permisos:permisos})\n        document.getElementById('guardar').removeAttribute('disabled')\n        }\n        else{\n            this.notifyTopCenter('warning','Permiso ya agregado')\n        }\n        \n    }\n    notifyTopCenter = (type,text) =>\n    toast[type](text, {\n        position: toast.POSITION.TOP_CENTER\n    })\n    render() {\n        return (\n            <div className=\"container\">\n            <ToastContainer />\n            <div className=\"row infocliente\">\n                <div className=\"col-12 mt-2\">\n                    <snap className=\"title-dashboard mr-2\">Nombre:</snap>\n                    <input type=\"text\" id=\"nombre\" className=\"input-edit\" value={this.state.nombre} onChange={(e)=>this.handleChange(e,'nombre')}/>\n                </div>\n                <div className=\"col-12 mt-2\">\n                    <snap className=\"title-dashboard mr-2\">Puesto:</snap>\n                    <select className=\"input-edit\" onChange={this.handleChangeSelect} id=\"selectmenu\">\n                            <option value='0'>{this.state.puesto}</option>\n                            {this.props.puestos.map(puesto=>\n                                <option key={puesto.key} value={puesto.key}>{puesto.Puesto}</option>\n                            )}\n                        </select>\n                </div>\n                <div className=\"col-12 text-center mt-2 mb-2\">\n                    <div className=\"subtitle\">\n                        <hr/>\n                        <div className=\"subtitle-text\">\n                            <h3 className=\"title-dashboard\">Permisos</h3>\n                        </div>\n                    </div>\n                    <div className=\"row \">\n                        <div className=\"col-12 col-xl-6 mb-xl-0 mb-md-2 mb-2\">\n                            {this.state.perProps.map(permiso=>\n                                <span key={permiso.key} className=\"badge badge-pill badge-secondary mr-2 perm-badge\" onClick={()=>this.handlePermiso(permiso)}>{permiso.titulo}</span>\n                            )}\n                        </div>\n                        <div className=\"col-12 col-xl-6 border rounded-sm perm-box\">\n                            {this.state.permisos.filter(permiso=>permiso.key!=1).map(permiso=>\n                                <span key={permiso.key} className=\"badge badge-pill badge-primary mr-2 perm-badge\" onClick={()=>this.removePermiso(permiso)}>{permiso.titulo} x</span>\n                            )}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-12\">\n                            <div className=\"subtitle\">\n                                <hr/>\n                                <div className=\"subtitle-text\">\n                                    <h3 className=\"title-dashboard\">Referencia</h3>\n                                </div>\n                            </div>\n                            <input value={this.state.referencia} type=\"text\" name=\"nombre\" className=\"form-control rounded-1 col-12 mb-2\" placeholder=\"Referencia\" readOnly/>\n                </div>\n            </div>\n            <div className=\"d-flex\">\n                <div className=\"ml-auto\">\n                    <button className=\"btn btn-general\" id=\"guardar\" onClick={()=>this.handleUpdate()} >Guardar</button>\n                </div>\n            </div>\n        </div>\n        )\n    }\n}\nconst mapStateProps = state =>({\n    permisos:state.permisos,\n    colaborador:state.infoColaborador,\n    puestos:state.puestos,\n})\nexport default connect(mapStateProps,null)(infocolaborador)"]},"metadata":{},"sourceType":"module"}